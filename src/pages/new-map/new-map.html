<ion-header>
  <ion-navbar>
    <ion-title>
      New Ionic Map
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

      <div #map id="map"></div>
        <!-- <ion-list>
            <ion-item *ngFor="let item of items">
              {{item.name}} 
            </ion-item>
        </ion-list> -->
        <div text-center>
          <button ion-button (click)="nearbyPlace('hospital')">Hospital</button>
          <button ion-button (click)="nearbyPlace('restaurant')">Restaurant</button>
        </div>
        <div *ngIf="showSearchBox">
            <ion-searchbar  [(ngModel)]="searchTerm" [formControl]="searchControl" (ionInput)="onSearchInput()"></ion-searchbar>
        </div>
        <!-- <div *ngIf="searching" class="spinner-container">
                <ion-spinner></ion-spinner>
        </div> -->

      


        <div *ngIf="(showSearchBox) && !(placesArray === null)">
            <ion-scroll class="scroll" scrollY="true">
                <div *ngFor="let item of items">
                      <button ion-item (click)="markSelectedPlace(item.place_id);">
                            <ion-avatar item-left>
                                  <img src="{{item.icon}}">
                            </ion-avatar>
                            <h2>{{item.name}}</h2>
                            <p>Address: {{item.vicinity}}</p>
                            <ion-avatar item-right>
                                <img src="{{item.icon}}">
                          </ion-avatar>
                      </button> 
                </div>
            </ion-scroll>
        </div>
        <!-- <div *ngIf="!showSearchBox">
            <div *ngFor="let item of placesArray">
                 <button ion-item (click)="markSelectedPlace(item.place_id);">
                      <ion-avatar item-left>
                            <img src="{{item.icon}}">
                      </ion-avatar>
                      <h2>{{item.name}}</h2>
                      <p>Address: {{item.vicinity}}</p>
                  </button> 
            </div>
        </div> -->
            
                               <!-- <ion-item *ngFor="let place of placesArray">
                                    <ion-avatar item-left>
                                        <img src="{{place.icon}}">
                                    </ion-avatar>
                                      <h2>{{place.name}}</h2>
                                      <p>Address: {{place.vicinity}}</p>
                                </ion-item> -->
                        
                              <!-- <div *ngIf="searching">
                                  <ion-item *ngFor="let item of items">
                                      {{item.name}} 
                                      <ion-avatar item-left>
                                          <img src="{{item.icon}}">
                                      </ion-avatar>
                                        <h2>{{item.name}}</h2>
                                        <p>Address: {{item.vicinity}}</p>
                                    </ion-item>
                              </div> -->
</ion-content>